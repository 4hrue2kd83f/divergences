je_bavarian_constitution = {
	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	should_be_pinned_by_default = yes

	group = je_group_internal_affairs

	modifiers_while_active = {dvg_bav_draft_constitution}

	immediate = {
		hidden_effect = {
			c:BAV = { trigger_event = { id = dvg_bavaria.3 days = 250 }}
		}
	}

	complete = {
		custom_tooltip = {
			text = je_bavarian_constitution_complete_tooltip
			has_global_variable = dvg_bavarian_constitution_complete
		}
		
		
		
	}

	on_complete = {
		c:BAV = { trigger_event = dvg_bavaria.25 }
	}

}



je_south_german_confederation_bav = {
	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	should_be_pinned_by_default = yes

	group = je_group_foreign_affairs

	immediate = {
		c:AUS = {
			save_scope_as = scope_AUS
		}
		c:BAV = {
			save_scope_as = scope_BAV
		}
		
	}

	complete = {
		custom_tooltip = {
			text = je_bavarian_constitution_complete_tooltip
			has_global_variable = dvg_bavarian_constitution_complete
		}
		OR = {
			
			AND = {
				custom_tooltip = {
					text = je_south_german_confederation_bav_austria_defeated_tooltip
					NOT = { exists = c:AUS }
				}
				owns_entire_state_region = STATE_AUSTRIA
				owns_entire_state_region = STATE_STYRIA
			}
			
			c:AUS = { is_subject_of = root}	

		}

		
	}

	on_complete = {
		if = {
			limit = { 
				exists = c:AGR
				c:AGR = { is_subject_of = root}	
			}
			annex = c:AGR
		}

		if = {
			limit = { 
				exists = c:SLZ
				c:SLZ = { is_subject_of = root}	
			}
			annex = c:SLZ
		}

		if = {
			limit = { 
				exists = c:TRT
				c:TRT = { is_subject_of = root}	
			}
			annex = c:TRT
		}

		if = {
			limit = { 
				exists = c:AUS
				c:AUS = { is_subject_of = root}	
			}
			annex = c:AUS
		}

		change_tag = SGF

		trigger_event = dvg_sgf.1
	}

}