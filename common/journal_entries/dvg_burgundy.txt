je_queen_anne = {
	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	should_be_pinned_by_default = yes

	group = je_group_internal_affairs

	possible = {
	}

	immediate = {
		
	}

	complete = {
		
		NOT = {
			ruler = {
				has_variable = queen_anne_var
			}
		}
	}

	on_complete = {
		trigger_event = {
			id = dvg_burgundy.19
		}
	}
	fail = {
		any_interest_group = {
			has_ideology = ideology:ideology_liberal
			is_powerful = yes
			ig_approval <= -20
			is_insurrectionary = yes 
		}
		
		revolution_progress_high = yes
	}
	on_fail = {
		trigger_event = {
			id = dvg_burgundy.18
		}
	}

}

je_anism = {
	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	should_be_pinned_by_default = yes

	group = je_group_internal_affairs

	possible = {
	}

	immediate = {
		
	}

	complete = {
		
		
	}

	on_complete = {
		
	}
	current_value = {
		value = var:dvg_je_an_var
	}
	invalid = {
		NOT = {
			any_scope_character = {
				has_ideology = ideology:ideology_jeanist_leader
			}
		}
	}
	goal_add_value = {
		add = 10
	}
	progressbar = yes

}
je_rhine_burgundy = {
	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	should_be_pinned_by_default = yes

	group = je_group_internal_affairs

	is_shown_when_inactive = {
		exists = c:BRG
		this = c:BRG
	}

	possible = {
		OR = {
			has_technology_researched = nationalism		
			s:STATE_RHINELAND.region_state:BRG = {
				turmoil >= 0.50
			}
			c:RHI = {
				radical_fraction = {
					value = 0.40
				}
			}
		}
	}

	immediate = {
		trigger_event = {
			id = dvg_burgundy.4
		}
		set_variable = {
			name = dvg_burg_rhine_Var
			value = 0
		}
	}
	current_value = {
		value = var:dvg_burg_rhine_Var
	}
	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					has_technology_researched = nationalism
				}
				change_variable = {
					name = dvg_burg_rhine_Var
					add = 1
				}
			}
			if = {
				limit = {
					cu:rheinish = {
						culture_is_discriminated_in = ROOT
					}
				}
				change_variable = {
					name = dvg_burg_rhine_Var
					add = 1
				}
			}
			if = {
				limit = {
					any_scope_state = {
						has_modifier = great_famine_modifier
						state_region = {
							is_homeland = rheinish
						}
					}
				}
				change_variable = {
					name = dvg_burg_rhine_Var
					add = 1
				}
			}
			if = {
				limit = {
					has_global_variable = dvg_bav_second_german_council
				}
				trigger_event = {
					id = dvg_burgundy.5
				}
				change_variable = {
					name = dvg_burg_rhine_Var
					add = 1
				}
			}
			if = {
				limit = {
					NOT = {
						has_global_variable = dvg_cologne_meeting
					}
					this = { var:dvg_burg_rhine_Var > 60 }
				}
				trigger_event = {
					id = dvg_burgundy.10
				}
				change_variable = {
					name = dvg_burg_rhine_Var
					add = 2
				}
				set_global_variable = dvg_cologne_meeting
			}
			
		}
	}


	complete = {
		trigger_if = {
			limit = { 
				exists = dvg_burg_rhine_Var
			}

			scope:journal_entry = { is_goal_complete = yes }
		}
		
	}

	on_complete = {
		trigger_event = {
			id = dvg_burgundy.11
		}
	}
	goal_add_value = {
		add = 100
	}
	invalid = {
		NOT = {
			any_scope_state = {
				state_region = {
					is_homeland = rheinish
				}
			}
		}
	}

	progressbar = yes

}
je_netherlands_burgundy = {
	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	should_be_pinned_by_default = yes

	group = je_group_internal_affairs

	is_shown_when_inactive = {
		exists = c:BRG
		this = c:BRG
	}

	possible = {
		any_scope_state = {
			state_region = {
				is_homeland = cu:dutch
			}
		}
		has_technology_researched = nationalism
	}

	immediate = {
		trigger_event = {
			id = dvg_burgundy.4
		}
		set_variable = {
			name = dvg_burg_nether_Var
			value = 0
		}
	}
	current_value = {
		value = var:dvg_burg_nether_Var
	}
	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					has_technology_researched = nationalism
				}
				change_variable = {
					name = dvg_burg_nether_Var
					add = 1
				}
			}
			if = {
				limit = {
					cu:dutch = {
						culture_is_discriminated_in = ROOT
					}
				}
				change_variable = {
					name = dvg_burg_nether_Var
					add = 1
				}
			}
			if = {
				limit = {
					any_scope_state = {
						has_modifier = great_famine_modifier
						state_region = {
							is_homeland = dutch
						}
					}
				}
				change_variable = {
					name = dvg_burg_nether_Var
					add = 1
				}
			}
			if = {
				limit = {
					has_global_variable = dvg_bav_second_german_council
				}
				trigger_event = {
					id = dvg_burgundy.5
				}
				change_variable = {
					name = dvg_burg_nether_Var
					add = 1
				}
			}
			
		}
	}


	complete = {
		trigger_if = {
			limit = { 
				exists = dvg_burg_nether_Var
			}

			scope:journal_entry = { is_goal_complete = yes }
		}
		
	}

	on_complete = {
		trigger_event = {
			id = dvg_burgundy.43
		}
	}
	fail = {
		country_has_primary_culture = cu:dutch
	}
	goal_add_value = {
		add = 100
	}
	invalid = {
		OR = {
			NOT = {
				any_scope_state = {
					state_region = {
						is_homeland = dutch
					}
				}
			}
			exists = c:NET
		}
		
	}

	progressbar = yes

}

