je_china_reunification = {
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	complete = {
		calc_true_if = {
			amount >= 20
			owns_entire_state_region = STATE_GANSU
			owns_entire_state_region = STATE_SHENGJING
			owns_entire_state_region = STATE_BEIJING
			owns_entire_state_region = STATE_SHANXI
			owns_entire_state_region = STATE_XIAN
			owns_entire_state_region = STATE_NINGXIA
			owns_entire_state_region = STATE_HENAN
			owns_entire_state_region = STATE_ZHILI
			owns_entire_state_region = STATE_SHANDONG
			owns_entire_state_region = STATE_JIANGSU
			owns_entire_state_region = STATE_NORTHERN_ANHUI
			owns_entire_state_region = STATE_NANJING
			owns_entire_state_region = STATE_SUZHOU
			owns_entire_state_region = STATE_SOUTHERN_ANHUI
			owns_entire_state_region = STATE_ZHEJIANG
			owns_entire_state_region = STATE_FORMOSA
			owns_entire_state_region = STATE_FUJIAN
			owns_entire_state_region = STATE_SHAOZHOU
			owns_entire_state_region = STATE_JIANGXI
			owns_entire_state_region = STATE_EASTERN_HUBEI
			owns_entire_state_region = STATE_WESTERN_HUBEI
			owns_entire_state_region = STATE_HUNAN
			owns_entire_state_region = STATE_GUANGXI
			owns_entire_state_region = STATE_GUANGDONG
			owns_entire_state_region = STATE_GUIZHOU
			owns_entire_state_region = STATE_CHONGQING
			owns_entire_state_region = STATE_SICHUAN
			owns_entire_state_region = STATE_YUNNAN
		}
	}

	on_complete = {
		trigger_event = { id = china_reunification.1 } # China Reunification
	}

	fail = {
		has_global_variable = china_reunified
	}
	
	on_fail = {
		trigger_event = { id = china_reunification.2 } # China Reunification Failed
	}

	weight = 100

	should_be_pinned_by_default = yes
}

##The Decline of Great Shun
decline_of_great_shun_main = {
	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}

	on_complete = {
		remove_modifier = great_decline
		trigger_event = {
			id = china_is_whole_again.1
		}
	}

	timeout = 4015

	on_timeout = {
	#	remove_modifier = great_decline
		trigger_event = {
			id = then_it_broke_again.1
		}
	}

	current_value = {
		value = var:decline_of_great_shun_var
	}

	goal_add_value = {
		add = 4
	}

	progressbar = yes

	weight = 10000
	should_be_pinned_by_default = yes
}

reclaim_formosa = {
	icon = "gfx/interface/icons/event_icons/event_military.dds"

	complete = {
		owns_entire_state_region = STATE_FORMOSA
		owns_entire_state_region = STATE_FUJIAN
		owns_entire_state_region = STATE_SHAOZHOU
		owns_entire_state_region = STATE_ZHEJIANG
		
	}

	on_complete = {
		custom_tooltip = je_sick_man_advance
		change_variable = {
			name = sick_man_var
			add = 1
		}
		set_variable = completed_syria_je
		s:STATE_SINAI = {
			add_claim = ROOT
		}
		s:STATE_UPPER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_MIDDLE_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_LOWER_EGYPT = {
			add_claim = ROOT
		}
		if = {
			limit = {
				OR = {
					AND = {
						exists = c:EGY
						c:EGY = {
							is_subject_of = ROOT
						}
					}
					AND = {
						owns_entire_state_region = STATE_SINAI
						owns_entire_state_region = STATE_UPPER_EGYPT
						owns_entire_state_region = STATE_MIDDLE_EGYPT
						owns_entire_state_region = STATE_LOWER_EGYPT
					}
				}
			}
			custom_tooltip = je_sick_man_advance
			change_variable = {
				name = sick_man_var
				add = 1
			}
		}
		else = {
			add_journal_entry = {
				type = je_sick_man_egypt
			}
		}
		custom_tooltip = sickman_syria_egypt
	}

	invalid = {
		custom_tooltip = {
			text = finished_sick_man_tt
			has_variable = sick_man_complete
		}
	}

	on_weekly_pulse = {
		events = {
			egyptian_crisis_events.1
		}
	}

	inheritable = no

	weight = 5000
}