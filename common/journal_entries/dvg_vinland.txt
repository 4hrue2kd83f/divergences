je_vinland_independence = {
	group = je_group_internal_affairs
	icon = "gfx/interface/icons/event_icons/event_military.dds"

	immediate = {
		c:SCA = {
			save_scope_as = scope_SCA
		}

		c:VIN = {
			save_scope_as = scope_VIN
		}
	}

	is_shown_when_inactive = {
		exists = c:VIN
		exists = c:SCA
		root = c:VIN
		c:SCA = {
			is_ai = yes
		}
		
		NOT = {
			has_variable = dvg_the_yolngu_war_hongshan_variable
		}
		c:VIN = {
			is_subject_of = c:SCA
		}
		is_diplomatic_play_committed_participant = no

	}

    possible = {
		is_subject = yes

	}

	on_monthly_pulse = {
		effect = {
			if = {
			limit = {
			liberty_desire > 95
			has_technology_researched = nationalism
			any_scope_state = {
			is_capital = yes
			OR = {
				is_isolated_from_market = yes
				turmoil > 0.55
				owner = {
					is_diplomatic_play_enemy_of = c:SCA
				}
			}
			}
			radical_fraction = {
			value > 0.50
			}
			NOT = {
				has_global_variable = vinlandic_revolution
			}
			}
			trigger_event = {
				id = dvg_vinland.9
			}
			if = {
				limit = {
					exists = c:SCA
					is_subject_of = c:SCA
					
				}
				c:SCA = {
					trigger_event = {
						id = dvg_vinland.10
					}
				}
				if = {
					limit = {
						exists = c:MSG
					}
					c:MSG = {
						trigger_event = {
							id = dvg_vinland.11
						}
					}
				}
			}
			}
			
		}
	}

    complete = {
		is_subject = no
    }
	on_complete = {
		ig:ig_industrialists = {
			remove_ideology = ideology_colonialist
			add_ideology = ideology_modernizer
		}
		trigger_event = {
			id = dvg_vinland.17
		}	
	}
	fail = {
		liberty_desire < 10
		has_attitude = {
			who = c:SCA
			attitude = loyal
		}
	}

	ai_chance = {
		base = 100
	}
}

je_skraelingr = {
	icon = "gfx/interface/icons/invention_icons/nationalism.dds"

	group = je_group_internal_affairs

	immediate = {
	}

	is_shown_when_inactive = {


	}
	

	possible = {
		
	}

	

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
		authority > 400
		any_scope_state = {
			count > 3
			turmoil < 0.50
		}
	}

	on_complete = {

	}

	on_weekly_pulse = {
		effect = {
			if = {
				limit = {
					has_variable = recently_lost_war
					
				}
				change_variable = {
					name = dvg_skr_var
					subtract = 1
				}
			}
			if = {
				limit = {
					liberty_desire > 75
				}
				change_variable = {
					name = dvg_skr_var
					subtract = 1
				}
			}
			if = {
				limit = {
					any_interest_group = {
						is_insurrectionary = yes
					}
				}
				change_variable = {
					name = dvg_skr_var
					subtract = 1
				}
			}
			if = {
				limit = {
					any_scope_state = {
						count > 3
						turmoil < 0.50
					}
				}
				change_variable = {
					name = dvg_skr_var
					add = 1
				}
			}
			if = {
				limit = {
					authority > 300
				}
				change_variable = {
					name = dvg_skr_var
					add = 1
				}
			}
			if = {
				limit = {
					authority < 0
				}
				change_variable = {
					name = dvg_skr_var
					add = 1
				}
			}
		}
		
	}
	on_monthly_pulse = {
		effect = {
			
			
			}
			
	
	
		}
		
	


	fail = {
		authority < 0
		custom_tooltip = {
			text = skr_fail_tt
			this = { var:dvg_skr_var <= 0 }
		}
		any_scope_state = {
			
			count < 3
		}
	}

	on_fail = {
		
		set_country_type = decentralized
	}

	invalid = {
		
	}
	current_value = {
		value = var:dvg_skr_var
	}

	progressbar = yes
	goal_add_value = 700
	
	should_be_pinned_by_default = yes
}