
golden_law_button = {
	name = "golden_law_button"
	desc = "golden_law_button_desc"

	visible = { always = yes }

	possible = {
		has_law = law_type:law_legacy_slavery
		c:PLA ?= {
			OR = {
				AND = {
					any_scope_character = {
						OR = {
							is_heir = yes
							is_ruler = yes
						}
						OR = {
							has_ideology = ideology:ideology_abolitionist
							has_ideology = ideology:ideology_humanitarian
							has_ideology = ideology:ideology_humanitarian_royalist
						}
						age >= 20
					}
				}
				ig:ig_landowners = {
					is_in_government = no
					is_being_suppressed = yes
					ig_clout < 0.25
				}
			}
			is_enacting_law = law_type:law_slavery_banned
			custom_tooltip = {
				text = golden_law_button_tt_2
				trigger_if = {
					limit = {
						is_enacting_law = law_type:law_slavery_banned
					}
					enactment_phase >= 1
				}
				trigger_else = {
					always = no
				}
			}
		}
	}

	ai_chance = {
		base = 0
		modifier = {
			trigger = { 
				ig:ig_landowners = {
					is_in_government = no
				}
			}
			add = 2
		}
		modifier = {
			trigger = { 
				ig:ig_landowners = {
					is_in_government = no
					is_being_suppressed = yes
				}
			}
			add = 4
		}
		modifier = {
			trigger = { 
				any_interest_group = {
					is_in_government = yes
					OR = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_abolitionist
								has_ideology = ideology:ideology_humanitarian
								has_ideology = ideology:ideology_humanitarian_royalist
							}
						}
						OR = {
							law_stance = {
								law = law_type:law_slave_trade
								value = strongly_disapprove
							}
							law_stance = {
								law = law_type:law_legacy_slavery
								value = strongly_disapprove
							}
						}
					}
				}
			}
			add = 7
		}
		modifier = {
			trigger = { 
				OR = {
					is_at_war = yes
					any_revolution_ongoing = yes
				}
			}
			add = -1000
		}
	}

	effect = {
		custom_tooltip = golden_law_button_tt
        if = {
            limit = {
                has_journal_entry = je_king_louis
            }
            remove_pedropoint_effect = yes
        }
		activate_law = law_type:law_slavery_banned
		ig:ig_landowners = {
			add_modifier = {
				name = outraged_over_golden_law_modifier
				months = normal_modifier_time
			}
		}
		trigger_event = {
			id = dvg_plantagenia.23
		}
	}
}
# Suppress Slave Trade Button
je_slave_trade_suppression_button = {
	name = "je_slave_trade_suppression_button"
	desc = "je_slave_trade_suppression_button_desc"

	visible = {
		has_law = law_type:law_slave_trade 
		NOT = { has_variable = var_slave_trade_suppression_var }
	}

	possible = {
		ig:ig_landowners = {
			is_in_government = no
		}
		custom_tooltip = {
			text = slave_trade_button_cooldown_tt
			NOT = {
				has_variable = slave_trade_button_cooldown_var
			}
		}
	}

	effect = {
		custom_tooltip = je_slave_trade_suppression_button_tt
		set_variable = var_slave_trade_suppression_var
		set_variable = {
			name = slave_trade_button_cooldown_var
			months = short_modifier_time
		}
		every_interest_group = {
			limit = {
                law_stance = {
                    law = law_type:law_slave_trade
                    value > neutral
                }
			}
			add_modifier = {
				name = restricted_slave_trade_ig_modifier
			}
		}
		remove_modifier = unrestricted_slave_trade_modifier
		add_modifier = {
			name = restricted_slave_trade_modifier
		}
	}
}

reform_law_button = {
	name = "reform_law_button"
	desc = "reform_law_button"

	visible = { 
		has_journal_entry = je_king_louis

	}

	possible = {
		has_technology_researched = egalitarianism
			
	}
	effect = {
		add_modifier = {
			name = dvg_atlantia_giving_support
			months = 12
		}
		trigger_event = dvg_atlantia.19
	}

	ai_chance = {
		base = 100
		 		 
	 }	
}

# je_the_krakow_uprising_annex_button = {
# 	name = "je_the_krakow_uprising_annex_button"
# 	desc = "je_the_krakow_uprising_annex_button_desc"

# 	visible = { always = yes }

# 	possible = {
# 		c:KRA ?= {
# 			is_subject_of = c:AUS
# 			has_revolution = no
# 		}
# 		is_at_war = no
# 	}

# 	effect = {
# 		if = {
# 			limit = {
# 				c:KRA = {
# 					exists = yes
# 				}
# 			}
# 			annex = c:KRA
# 		}
# 	}
# }