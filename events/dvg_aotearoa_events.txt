namespace = dvg_aotearoa 

#Event that fires when taking the decision is further down since I can't be bothered reworking the loc
#Also because scopes dont work that well in decisions unfortunately
dvg_aotearoa.1 = { #Aotearoa being approached by Scandi

	type = country_event
	placement = ROOT

	title = dvg_aotearoa.1.t
	desc = dvg_aotearoa.1.d
	flavor = dvg_aotearoa.1.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"
	
	duration = 3
	
	option = { #Yes
		c:SCA = {
			trigger_event = { id = dvg_aotearoa.3 days = 20 }
		}
		name = dvg_aotearoa.1.a
		default_option = yes
		ai_chance = {
			base = 4
		}
	}
	
	option = { #No
		c:SCA = {
			trigger_event = { id = dvg_aotearoa.6 days = 20 }
		}
		name = dvg_aotearoa.1.b
		ai_chance = {
			base = 6
		}
	}
}

dvg_aotearoa.2 = { #Aotearoa being approached by someone else

	type = country_event
	placement = ROOT

	title = dvg_aotearoa.2.t
	desc = dvg_aotearoa.2.d
	flavor = dvg_aotearoa.2.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"
	
	duration = 3
	
	option = { #Yes
		scope:aotearoa_approacher = {
			trigger_event = { id = dvg_aotearoa.4 days = 14 }
		}
		name = dvg_aotearoa.2.a
		default_option = yes
		ai_chance = {
			base = 6
		}
	}
	
	option = { #No
		scope:aotearoa_approacher = {
			trigger_event = { id = dvg_aotearoa.7 days = 14 }
		}
		name = dvg_aotearoa.2.b
		ai_chance = {
			base = 4
		}
	}
}

dvg_aotearoa.3 = {

	type = country_event
	placement = ROOT

	title = dvg_aotearoa.3.t
	desc = dvg_aotearoa.3.d
	flavor = dvg_aotearoa.3.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"

	duration = 2

	option = {
		c:SCA = {
			create_diplomatic_pact = {
				country = c:AOT
				type = protectorate
			}
		}
		default_option = yes
		name = dvg_aotearoa.3.a
	}
}

dvg_aotearoa.4 = {

	type = country_event
	placement = ROOT

	title = dvg_aotearoa.4.t
	desc = dvg_aotearoa.4.d
	flavor = dvg_aotearoa.4.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"
	
	duration = 2
	
	option = {
		scope:aotearoa_approacher = {
			create_diplomatic_pact = {
				country = c:AOT
				type = protectorate
			}
		}
		default_option = yes
		name = dvg_aotearoa.4.a
	}
}

dvg_aotearoa.5 = { 
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.5.t
	desc = dvg_aotearoa.5.d
	flavor = dvg_aotearoa.5.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"
	
	duration = 2
	
	immediate = {
		set_global_variable = {
			name = aotearoa_approached
		}
		random_country = {
			limit = {
				owns_entire_state_region = STATE_MOTU_TIMU
				}
			save_scope_as = aotearoa_approacher
		}
    }
	
	option = {
		IF = {
			limit = {
				root = c:SCA
			}
			c:AOT = {
				trigger_event = { id = dvg_aotearoa.1 days = 7 }
			}
		}
		ELSE = {
			c:AOT = {
				trigger_event = { id = dvg_aotearoa.2 days = 7 }
			}
		}
		name = dvg_aotearoa.5.a	
		default_option = yes
	}
}

dvg_aotearoa.6 = { #Aotearoa refusing Scandi
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.6.t
	desc = dvg_aotearoa.6.d
	flavor = dvg_aotearoa.6.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"
	
	duration = 2
	
	option = {
		name = dvg_aotearoa.6.a
		c:AOT = {
			trigger_event = { id = dvg_aotearoa.8 days = 7 }
		}
		custom_tooltip = {
			text =  dvg_lead_to_war_with_aotearoa
		}
		default_option = yes
		ai_chance = {
			base = 8
		}
	}
	
	option = {
		name = dvg_aotearoa.6.b
		add_modifier = {
			name = dvg_aotearoa_coloniser_fail
			is_decaying = yes
			months = 61
		}
		ai_chance = {
			base = 2
		}
	}
}

dvg_aotearoa.7 = { #Aotearoa refusing someone else
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.7.t
	desc = dvg_aotearoa.7.d
	flavor = dvg_aotearoa.7.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"
	
	duration = 2
	
	option = {
		name = dvg_aotearoa.7.a
		c:AOT = {
			trigger_event = { id = dvg_aotearoa.9 days = 7 }
		}
		custom_tooltip = {
			text =  dvg_lead_to_war_with_aotearoa
		}
		default_option = yes
		ai_chance = {
			base = 8
		}
	}
	
	option = {
		name = dvg_aotearoa.7.b
		add_modifier = {
			name = dvg_aotearoa_coloniser_fail
			is_decaying = yes
			months = 61
		}
		ai_chance = {
			base = 2
		}
	}
}


dvg_aotearoa.8 = { #Responding to Scandi
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.8.t
	desc = dvg_aotearoa.8.d
	flavor = dvg_aotearoa.8.f

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	duration = 2

	immediate = {
		s:STATE_MOTU_TIMU = {
			random_scope_state = {
				limit = { owner = scope:aotearoa_approacher }
				save_scope_as = motu_timu_state
			}
		}
	}

	option = { #Back down
		c:SCA = {
			trigger_event = { id = dvg_aotearoa.11 days = 14 }
		}
		name = dvg_aotearoa.8.a
		custom_tooltip = {
			text = dvg_aotearoa_will_become_a_puppet
		}
		ai_chance = {
			base = 3
		}
	}
	
	option = { #fight
		c:SCA = {
			trigger_event = { id = dvg_aotearoa.10 days = 14 }
		}
		name = dvg_aotearoa.8.b
		ai_chance = {
			base = 7
		}
		default_option = yes
	}
}

dvg_aotearoa.9 = { #Responding to someone else
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.9.t
	desc = dvg_aotearoa.9.d
	flavor = dvg_aotearoa.9.f

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	duration = 2
	
	immediate = {
		s:STATE_MOTU_TIMU = {
			random_scope_state = {
				limit = { owner = scope:aotearoa_approacher }
				save_scope_as = motu_timu_state
			}
		}
	}
	
	option = { #Back down
		scope:aotearoa_approacher = {
			trigger_event = { id = dvg_aotearoa.13 days = 14 }
		}
		custom_tooltip = {
			text = dvg_aotearoa_will_become_a_puppet
		}
		name = dvg_aotearoa.9.a
		ai_chance = {
			base = 3
		}
	}
	
	option = { #fight
		scope:aotearoa_approacher = {
			trigger_event = { id = dvg_aotearoa.12 days = 14 }
		}
		name = dvg_aotearoa.9.b
		ai_chance = {
			base = 7
		}
		default_option = yes
	}
}

dvg_aotearoa.10 = { #War with Scandi
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.10.t
	desc = dvg_aotearoa.10.d
	flavor = dvg_aotearoa.10.f

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 2
	
	option = {
		create_diplomatic_play = {
			name = dvg_aotearoa_offer_war
		
			target_country = c:AOT
			
			war = no
			
			type = dp_make_puppet
			
			add_war_goal = {
				holder = c:AOT
				type = conquer_state
				target_state = scope:motu_timu_state
			}
		}
	}
}

dvg_aotearoa.11 = { #Submit to Scandi
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.11.t
	desc = dvg_aotearoa.11.d
	flavor = dvg_aotearoa.11.f

	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	duration = 2
	
	option = {
		c:SCA = {
			create_diplomatic_pact = {
				country = c:AOT
				type = puppet
			}
		}
	}
}

dvg_aotearoa.12 = { #War with someone else
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.12.t
	desc = dvg_aotearoa.12.d
	flavor = dvg_aotearoa.12.f

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 2
	
	option = {
		create_diplomatic_play = {
			name = dvg_aotearoa_offer_war
		
			target_country = c:AOT
			
			war = no
			
			type = dp_make_puppet
			
			add_war_goal = {
				holder = c:AOT
				type = conquer_state
				target_state = scope:motu_timu_state
			}
		}
	}
}

dvg_aotearoa.13 = { #Submit to someone else
	
	type = country_event
	placement = ROOT

	title = dvg_aotearoa.13.t
	desc = dvg_aotearoa.13.d
	flavor = dvg_aotearoa.13.f

	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	duration = 2
	
	option = {
		scope:aotearoa_approacher = {
			create_diplomatic_pact = {
				country = c:AOT
				type = puppet
			}
		}
	}
}