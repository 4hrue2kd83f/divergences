namespace = aprilfools

aprilfools.1 = { #Krakow Indepdence Event
	type = country_event
	placement = root
	title = aprilfools.1.t
	desc = aprilfools.1.d
	flavor = aprilfools.1.f
	
	event_image = {
		video = "gfx/event_pictures/unspecific_devastation.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/devastation"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	trigger = {
	}

	immediate = {	
		set_global_variable = happyaprilfools_var
		random_scope_state = {
			limit = {
				state_region = s:STATE_WEST_GALICIA
			}
			save_scope_as = happyaprilfools_state
			owner = {
				save_scope_as = happyaprilfools_country
				set_variable = happyaprilfools_country_var
			}
		}
		every_country = {
			limit = {
				is_player = yes
				NOT = { has_variable = happyaprilfools_country_var }
			}
			trigger_event = { id = aprilfools.2 } #notification event
		}
	}

	duration = 3

	option = {
		name = genoa.1.a
        default_option = yes

	}
}

aprilfools.2 = { #World Event
	type = country_event
	placement = scope:happyaprilfools_state
	
	event_image = {
		video = "gfx/event_pictures/unspecific_devastation.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/devastation"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	title = aprilfools.2.t
	desc = aprilfools.2.d
	flavor = aprilfools.2.f

	trigger = {
	}

	immediate = {	
	}

	duration = 3

	option = {
		name = aprilfools.2.a
        default_option = yes
	}
}
