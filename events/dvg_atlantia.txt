namespace = dvg_atlantia

# Referendum!
dvg_atlantia.1 = {
	type = country_event
	placement = ROOT

	title = dvg_atlantia.1.t
	desc = dvg_atlantia.1.d
	flavor = dvg_atlantia.1.f
	
	event_image = {
		video = "gfx/event_pictures/southamerica_election.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	
	year = 1840

    exists = c:ATL
		c:ATL = ROOT
	
	}
	
	
	# Liberte!
	option = {
		name = dvg_atlantia.1.a
		default_option = yes
		
		add_radicals = {
			value = 0.5
			culture = cu:lotharian
		}
		add_loyalists = {
			value = 0.5
			culture = cu:amazonien
		}
		
		add_radicals = {
			value = 0.55
			culture = cu:atlantian
		}
		c:AMA = {
			set_variable = tex_annexation
			trigger_event = { id = dvg_atlantia.2 }
			show_as_tooltip = {
				c:AMA = {
					annex = ROOT
				}
			}
		}
		ai_chance = {
			base = 1
		}
	}
	option = {
		name = dvg_atlantia.1.b
		
		
		add_loyalists = {
			value = 0.5
			culture = cu:lotharian
		}
		add_radicals = {
			value = 0.5
			culture = cu:amazonien
		}
		add_radicals = {
			value = 0.75
			culture = cu:atlantian
		}
		c:LOT = {
			set_variable = tex_annexation
			trigger_event = { id = dvg_atlantia.3 }
			show_as_tooltip = {
				c:LOT = {
					annex = ROOT
				}
			}
		}
		ai_chance = {
			base = 1
		}
		change_tag = LOT
	}
	option = {
		name = dvg_atlantia.1.c
		add_modifier = {
			name = dvg_demoratic_miltias
			days = 1825
			is_decaying	= yes
		}
		add_radicals = {
			value = 0.3
			culture = cu:lotharian
		}
		add_radicals = {
			value = 0.3
			culture = cu:amazonien
		}
		add_loyalists = {
			value = 0.55
			culture = cu:atlantian
		}
		 c:SPA = {
        remove_diplomatic_pact = {
            country = c:ATL
            type = puppet
        }
		}
		
		 c:ATL = {
		
		change_relations = {
				country = c:LOT
				value = -50
			}
		change_relations = {
				country = c:AMA
				value = -20
			}
		s:STATE_COTE_DU_CAFE = {
			add_claim = c:LOT
		}
		s:STATE_COTE_DU_CAFE = {
			add_claim = c:AMA
		}
		ai_chance = {
			base = 1
		}
		
		}
		
	}
}

#For Amazonie

dvg_atlantia.2 = {
	type = country_event
	placement = ROOT
	event_image = {
		video = "gfx/event_pictures/unspecific_world_fair.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "texan_war_of_independence.1"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_atlantia.2.t
	desc = dvg_atlantia.2.d
	flavor = dvg_atlantia.2.f

	duration = 3

	trigger = {
	}

	immediate = {
		c:ATL = {
			
			
		}
	}

	option = {
		name = dvg_atlantia.2.a
		default_option = yes
		trigger = {
			has_variable = tex_annexation
		}
		
		s:STATE_COTE_DU_CAFE = {
			add_claim = c:LOT
		}
		annex = c:ATL
		change_relations = {
				country = c:LOT
				value = -50
			}
		country_prestige_mult = 0.05
		c:LOT = { trigger_event = { id = dvg_atlantia.4 popup = yes } }
	}
	
	
}

#For LOT

dvg_atlantia.3 = {
	type = country_event
	placement = ROOT
	event_image = {
		video = "gfx/event_pictures/unspecific_military_parade.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "texan_war_of_independence.1"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_atlantia.3.t
	desc = dvg_atlantia.3.d
	flavor = dvg_atlantia.3.f

	duration = 3

	trigger = {
	}

	immediate = {
		c:ATL = {
			
			
		}
	}

	option = {
		name = dvg_atlantia.3.a
		default_option = yes
		trigger = {
			has_variable = tex_annexation
		}
		s:STATE_COTE_DU_CAFE = {
			add_claim = c:AMA
		}
		annex = c:ATL
		change_relations = {
				country = c:AMA
				value = -25
			}
	}
	
	
}

dvg_atlantia.4 = {
	type = country_event
	placement = ROOT
	event_image = {
		video = "gfx/event_pictures/unspecific_politicians_arguing.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/event:/SFX/Events/europenorthamerica/before_the_battle"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_atlantia.4.t
	desc = dvg_atlantia.4.d
	flavor = dvg_atlantia.4.f

	duration = 2

	trigger = {
	}

	immediate = {
		c:AMA = {
			add_modifier = {
			name = dvg_demoratic_miltias
			days = 1825
			is_decaying	= yes
		}
			
		}
		
	}

	option = {
		name = dvg_atlantia.4.a
		default_option = yes
		
		c:LOT = {
		 create_diplomatic_play = {
			 name = reconquering_atlantia.1.t
		
			 target_state = s:STATE_COTE_DU_CAFE.region_state:AMA
			
			
			
			 type = dp_return_state
			
			 add_war_goal = {
				 holder = c:AMA
				 type = war_reparations
				 target_country = c:LOT
			 }
			
			 add_war_goal = {
				 holder = c:AMA
				 type = humiliation
				 target_country = c:LOT
			 }
		 }
	 }
		
		add_loyalists = {
			value = 0.25
			culture = cu:lotharian
		}
		change_variable = {
				name = aigle_var
				add = 20
			}
		add_radicals = {
			value = 0.25
			culture = cu:atlantian
		}
		change_relations = {
				country = c:AMA
				value = -25
			}
	}
	option = {
		name = dvg_atlantia.4.b
		default_option = yes
		change_relations = {
				country = c:AMA
				value = 60
			}
		change_variable = {
				name = aigle_var
				add = -5
			}
		ig:ig_armed_forces = {
			add_modifier = {
			name = modifier_army_dissaproves
			days = 1825
		}
			
	}
	
	
}

