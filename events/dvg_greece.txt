namespace = dvg_greece
#Rum Collapse, Greek War for Independence
#Greece POV
dvg_greece.1 = {
	type = country_event
	placement = ROOT

	title = dvg_greece.1.t
	desc = dvg_greece.1.d
	flavor = dvg_greece.1.f

	event_image = {
		video = "gfx/event_pictures/asia_sepoy_mutiny.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		exists = c:GRE
		c:GRE = ROOT
	}
	immediate = {
		c:VEN = {
			save_scope_as = scope_VEN
		}
		c:GRE = {
			save_scope_as = scope_GRE
		}
	}

	# We can fight on our own!
	option = {
		name = dvg_greece.1.a
		default_option = yes
		add_loyalists = {
			value = 0.55
		}
		ai_chance = {
			base = 50
		}
	}
	#Ask Venice for Help
	option = {
		name = dvg_greece.1.b

		trigger = {
			exists = c:VEN
		}
		c:VEN = {
			trigger_event = {
				id = dvg_greece.2 days = 10
			}
		}
		
		
		add_radicals = {
			value = 0.25
		}
		ai_chance = {
			base = 50
		}
	}
	
}
#Venice receives message
dvg_greece.2 = {
	type = country_event
	placement = ROOT

	title = dvg_greece.2.t
	desc = dvg_greece.2.d
	flavor = dvg_greece.2.f

	event_image = {
		video = "gfx/event_pictures/asia_sepoy_mutiny.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		exists = c:GRE
		NOT = {
			has_variable = greece_help
		}
	}
	immediate = {
		c:VEN = {
			save_scope_as = scope_VEN
		}
		c:GRE = {
			save_scope_as = scope_GRE
		}
		c:WRE = {
			save_scope_as = scope_WRE
		}
		set_variable = greece_help
	}

	# Let's just take Greece for ourselves
	option = {
		name = dvg_greece.2.a
		default_option = yes

		create_incident = {
			country = THIS
			value = 12
		}
		
		create_diplomatic_play = {
			type = dp_rebellion_annex
			target_country = c:GRE
			war = no		
			
		}
		create_diplomatic_play = {
			type = dp_rebellion_annex
			target_country = c:WRE
			war = no		

		}
		ai_chance = {
			base = 50
		}
	}
	#Greece shall be under our protection
	option = {
		trigger = {
		}
		name = dvg_greece.2.b

		c:GRE = {
			trigger_event = {
				id = dvg_greece.3 days = 10
			}
		}
		
		ai_chance = {
			base = 40
		}
	}
	#We Refuse
	option = {
		name = dvg_greece.2.c
		
		ai_chance = {
			base = 10
		}
	}
}
#Greece gets message
dvg_greece.3 = {
	type = country_event
	placement = ROOT

	title = dvg_greece.3.t
	desc = dvg_greece.3.d
	flavor = dvg_greece.3.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		exists = c:GRE
		exists = c:VEN
	}
	immediate = {
		c:VEN = {
			save_scope_as = scope_VEN
		}
		c:GRE = {
			save_scope_as = scope_GRE
		}
		c:WRE = {
			save_scope_as = scope_WRE
		}
	}

	# Venice can take us!
	option = {
		name = dvg_greece.3.a
		default_option = yes

		c:VEN = {
			create_diplomatic_pact = {
				country = c:GRE
				type = protectorate
			}
		}
		every_diplomatic_play = {
			limit = {
				target_is = c:GRE
			}
			add_target_backers = {
				c:VEN
			}
		}
		
		ai_chance = {
			base = 50
		}
	}
	#Greece shall be under our protection
	option = {
		trigger = {
		}
		name = dvg_greece.3.b

		c:VEN = {
			trigger_event = {
				id = dvg_greece.4 days = 10
			}
		}

		ai_chance = {
			base = 10
		}
		
	}
}

#Venice gets Greek refusal
dvg_greece.4 = {
	type = country_event
	placement = ROOT

	title = dvg_greece.4.t
	desc = dvg_greece.4.d
	flavor = dvg_greece.4.f

	event_image = {
		video = "middleeast_courtroom_upheaval"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		exists = c:GRE
		exists = c:VEN
	}
	immediate = {
		c:VEN = {
			save_scope_as = scope_VEN
		}
		c:GRE = {
			save_scope_as = scope_GRE
		}
		c:WRE = {
			save_scope_as = scope_WRE
		}
	}

	# Greece must die!
	option = {
		name = dvg_greece.4.a
		default_option = yes

		create_diplomatic_play = {
			type = dp_rebellion_annex
			target_country = c:GRE
			war = no		
			
		}	
		create_incident = {
			country = THIS
			value = 8
		}

		ai_chance = {
			base = 50
		}
	}
	#Forget about it
	option = {
		trigger = {
		}
		name = dvg_greece.4.b

	

		ai_chance = {
			base = 10
		}
		
	}
}

#Zimisces Introduction event?
dvg_greece.200 = { # 
	type = country_event
	placement = ROOT

	title = dvg_greece.200.t
	desc = dvg_greece.200.d
	flavor = dvg_greece.200.f

	duration = 3
	cooldown = { months = 6 }
	event_image = {
		video = "votp_garibaldi"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	trigger = { 
		NOT = { has_variable = dvg_greece_radical_org }
	}
	immediate = {
		set_variable = dvg_greece_radical_org
	}
	option = {	#Let's libera
		name = dvg_greece.200.a
		default_option = yes

		
	}
}

#Zimisces  has ambitions for Greece
dvg_greece.201 = { 
	type = country_event
	placement = ROOT

	title = dvg_greece.201.t
	desc = dvg_greece.201.d
	flavor = dvg_greece.201.f

	duration = 3
	cooldown = { months = 6 }
	event_image = {
		video = "votp_garibaldi"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	trigger = { 
		any_scope_character = {
			has_variable = zimisces_var
		}
	}
	immediate = {
		random_scope_character = {
			limit = {
				has_variable = zimisces_var
			}
			save_scope_as = zimisces_scope
		}
	}
	option = {	#Let's liberate Greece, together
		name = dvg_greece.201.a
		default_option = yes
		
		add_radicals = {
			value = 0.30
			culture = cu:greek
		}

		ai_chance = {
			base = 33
		}
	}
	option = {	
		name = dvg_greece.201.b

		trigger_event = {
			id = dvg_greece.202 days = 30
		}

		ai_chance = {
			base = 33
		}
	}
	option = {	#If he loves Greece so much, let's send him there instead!
		name = dvg_greece.201.c
		trigger = {
			exists = c:GRE
		}
		random_state = {
			limit = {
				owner = c:GRE
			}
			save_scope_as = greek_state
		}
		random_scope_pop = {
			limit = {
				culture = cu:greek
			}
			move_pop = scope:greek_state
		}
		random_scope_character = {
			limit = {
				has_variable = zimisces_var
			}
			transfer_character = c:GRE
		}

		ai_chance = {
			base = 33
		}
	}
}
#Council of Athens
dvg_greece.202 = { 
	type = country_event
	placement = ROOT

	title = dvg_greece.202.t
	desc = dvg_greece.202.d
	flavor = dvg_greece.202.f

	duration = 3
	cooldown = { months = 6 }
	event_image = {
		video = "votp_garibaldi"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	trigger = { 
		any_scope_character = {
			has_variable = zimisces_var
		}
	}
	immediate = {
		
		random_scope_character = {
			limit = {
				has_variable = zimisces_var
			}
			save_scope_as = zimisces_scope
		}
	}
	option = {	#He can get limited autonomy for now
		name = dvg_greece.202.a
		default_option = yes

		create_country = {
			
		}


		ai_chance = {
			base = 25
		}
	}
	option = {	#He needs to stfu
		name = dvg_greece.202.b


		ai_chance = {
			base = 50
		}
	}
	option = {	#If he loves Greece so much, let's send him there instead!
		name = dvg_greece.202.c
		trigger = {
			exists = c:GRE
		}
		scope:zimisces_scope = {
			transfer_character = c:GRE
		}

		ai_chance = {
			base = 25
		}
	}

}


#Zimisces leads Greek Revolt Against Venice...from Cyprus
dvg_greece.203 = { 
	type = country_event
	placement = ROOT

	title = dvg_greece.201.t
	desc = dvg_greece.201.d
	flavor = dvg_greece.201.f

	duration = 3
	event_image = {
		video = "votp_garibaldi"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	trigger = { 
		
	}
	immediate = {
		create_country = {
			tag = CYP
			origin = this
			state = s:STATE_CYPRUS.region_state:VEN
			state = s:STATE_CRETE.region_state:VEN
			state = s:STATE_IONIAN_ISLANDS.region_state:VEN
			on_created = {
				set_variable = greek_revolt
				save_scope_as = greek_revolt_country_scope
			}
		}
		scope:zimisces_scope = {
			transfer_character = c:CYP
		}
		if = {
			limit = {
				exists = c:GRE
			}
			c:CYP = {
				add_change_relations_progress = {
					country = c:GRE
					value = 80
				}
			}
		}
		
	}
	option = {	 #Kill the Greek Revolt
		name = dvg_greece.203.a
		default_option = yes

		create_diplomatic_play = {
			type = dp_rebellion_annex
			target_country = scope:greek_revolt_country_scope
		}
		

		ai_chance = {
			base = 33
		}
	}
	option = {	#Fight Venice
		name = dvg_greece.203.b

		play_as = scope:greek_revolt_country_scope

		create_diplomatic_play = {
			type = dp_rebellion_annex
			target_country = scope:greek_revolt_country_scope
		}


		ai_chance = {
			base = 33
		}
	}
	
}

#Liberate Greece?
dvg_greece.210 = { 
	type = country_event
	placement = ROOT

	title = dvg_greece.210.t
	desc = dvg_greece.210.d
	flavor = dvg_greece.210.f

	duration = 3
	cooldown = { months = 6 }
	event_image = {
		video = "votp_garibaldi"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	trigger = { 
		any_scope_character = {
			has_variable = zimisces_var
		}
	}
	immediate = {
		
	
	}
	option = {	#Directly try to take Greece from Rum
		name = dvg_greece.210.a
		default_option = yes

		


		ai_chance = {
			base = 25
		}
	}
	option = {	#Fund Seperatism in Greece
		name = dvg_greece.210.b


		ai_chance = {
			base = 50
		}
	}
	option = {	#We want nothing to do with this 
	name = dvg_greece.210.c
		
	add_radicals = {
		value = 0.20
		culture = cu:greek
	}

		ai_chance = {
			base = 25
		}
	}

}

