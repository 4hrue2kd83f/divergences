namespace = dvg_lotharingia



dvg_lotharingia.1 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.1.t
	desc = dvg_lotharingia.1.d
	flavor = dvg_lotharingia.1.f
	
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	    year = 1836
	}
	
	
	# Vive!
	option = {
		name = dvg_lotharingia.1.a
		default_option = yes
		add_journal_entry = {
			type = je_lotharian_house_of_cards
		}
		add_radicals = {
			value = 0.4
			culture = cu:lotharian
		}
		add_loyalists = {
			value = 0.15
			culture = cu:lotharian
		}
		ai_chance = {
			base = 100
		}
	}
}



dvg_lotharingia.2 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.2.t
	desc = dvg_lotharingia.2.d
	flavor = dvg_lotharingia.2.f
	
	event_image = {
		video = "gfx/event_pictures/unspecific_sick_in_hospital.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = { 
	}
	
	
	# Liberte!
	option = {
		name = dvg_lotharingia.2.a
		default_option = yes
		country_prestige_mult = -0.01
		
		
		add_radicals = {
			value = 0.50
		}
		add_loyalists = {
			value = 0.10
		}
		
		activate_law = law_type:law_autocracy
		activate_law = law_type:law_monarchy
		activate_law = law_type:law_hereditary_bureaucrats
		
		ruler = { remove_trait = immortal }
		
		c:LOT = { trigger_event = { id = dvg_lotharingia.5 popup = yes } }

		ai_chance = {
			base = 40
		}
	}
	option = {
		name = dvg_lotharingia.2.b
		country_prestige_mult = -0.01
		
		
		
		add_radicals = {
			value = -0.20
		}
		activate_law = law_type:law_autocracy
		activate_law = law_type:law_appointed_bureaucrats
		ruler = { kill_character = yes }

		ai_chance = {
			base = 20
		}
	}
	option = {
		name = dvg_lotharingia.2.c
		country_prestige_mult = -0.01
		
		
		
		add_radicals = {
			value = 0.50
		}
		
		c:LOT = { trigger_event = { id = dvg_lotharingia.5 popup = yes } }

		ai_chance = {
			base = 30
		}
	}
   option = {
		name = dvg_lotharingia.2.e
		default_option = yes
		country_prestige_mult = 0.07
		ruler = { kill_character = yes }
		
		add_radicals = {
			value = -0.50
		}
		activate_law = law_type:law_migration_controls
		activate_law = law_type:law_census_voting
		ig:ig_landowners = {
			remove_ideology = ideology_caudillismo
			}
                ig:ig_armed_forces = {
			remove_ideology = ideology_caudillismo
			}
		call_election = {
				months = 1
			}
		ai_chance = {
			base = 10
		}
	}
}

dvg_lotharingia.3 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.3.t
	desc = dvg_lotharingia.3.d
	flavor = dvg_lotharingia.3.f
	
	event_image = {
		video = "gfx/event_pictures/unspecific_sick_in_hospital.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = { year = 1885
	}
	
	
	# Liberte!
	option = {
		name = dvg_lotharingia.3.a
		default_option = yes
		
		
		
		add_loyalists = {
			value = .50
		}
		change_variable = {
				name = aigle_var
				add = -10
			}
		
		
		

		ai_chance = {
			base = 50
		}
	}
	option = {
		name = dvg_lotharingia.3.b
		country_prestige_mult = -0.01
		
		add_radicals = {
			value = -.50
		}
		
		
		
		change_variable = {
				name = aigle_var
				add = -10
			}
		

		ai_chance = {
			base = 50
		}
	}
}

dvg_lotharingia.4 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.4.t
	desc = dvg_lotharingia.4.d
	flavor = dvg_lotharingia.4.f
	
	event_image = {
		video = "gfx/event_pictures/southamerica_election.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	}
	
	
	# Liberte!
	option = {
		name = dvg_lotharingia.4.a
		default_option = yes
		country_prestige_mult = 0.07
		ruler = { kill_character = yes }
		
		add_radicals = {
			value = -0.50
		}
		activate_law = law_type:law_migration_controls
		activate_law = law_type:law_census_voting
		ig:ig_landowners = {
			remove_ideology = ideology_caudillismo
			}
                ig:ig_armed_forces = {
			remove_ideology = ideology_caudillismo
			}
		call_election = {
				months = 1
			}
		ai_chance = {
			base = 100
		}
	}
}

dvg_lotharingia.5 = { #Split Lotharingia up into warlord states
	type = country_event
	placement = root
	duration = 3

	title = dvg_lotharingia.5.t
	desc = dvg_lotharingia.5.d
	flavor = dvg_lotharingia.5.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_springtime_of_nations.bk2"
	}

	on_created_soundeffect = "event:/SFX/Events/southamerica/war_civilians"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	trigger = {
		exists = c:LOT
		this = c:LOT
		NOT = { has_global_variable = lotharingia_shatters }
	}

	immediate = {
		set_global_variable = lotharingia_shatters
		
		set_variable = chinese_central_government
		
		s:STATE_TRANSFLEUVE = {
			add_claim = c:BEO
		}
		s:STATE_LIBREVILLE = {
			add_claim = c:ATL
		}
		
		if = {
			limit = { exists = s:STATE_BOURGOGNE_DU_SUD.region_state:LOT }
			create_country = { #Odonia
				tag = ODO
				origin = this
				state = s:STATE_BOURGOGNE_DU_SUD.region_state:LOT
				state = s:STATE_TRANSFLEUVE.region_state:LOT

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:ODO = { save_scope_as = scope_ODO }
			if = {
				limit = { exists = s:STATE_BOURGOGNE_DU_SUD.region_state:LOT }
				s:STATE_BOURGOGNE_DU_SUD.region_state:LOT = { set_state_owner = c:ODO }
			}
			if = {
				limit = { exists = s:STATE_TRANSFLEUVE.region_state:LOT }
				s:STATE_TRANSFLEUVE.region_state:LOT = { set_state_owner = c:ODO }
			}
		}

		if = {
			limit = { exists = s:STATE_NOUVELLE_ALSACE.region_state:LOT }
			create_country = { #Nouvelle Alsace
				tag = NEA
				origin = this
				state = s:STATE_NOUVELLE_ALSACE.region_state:LOT
				state = s:STATE_LIBREVILLE.region_state:LOT

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:NEA = { save_scope_as = scope_NEA}
		}

		if = {
			limit = { exists = s:STATE_COTE_DU_CAFE.region_state:LOT }
			create_country = { #Atlantia
				tag = ATL 
				origin = this
				state = s:STATE_COTE_DU_CAFE.region_state:LOT
				state = s:STATE_GOUAS.region_state:LOT

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:ATL = { save_scope_as = scope_ATL }
			
			
		}

		if = {
			limit = { exists = s:STATE_MARCHES_OUEST.region_state:LOT }
			create_country = { #Taragui
				tag = TGI
				origin = this
				state = s:STATE_CHACO_BOREAL.region_state:LOT
				state = s:STATE_MARCHES_OUEST.region_state:LOT
				state = s:STATE_GRAND_CHACO.region_state:LOT
				state = s:STATE_EOFERWIC.region_state:LOT
				state = s:STATE_NORTHUMBRIA.region_state:LOT

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:TGI = { save_scope_as = scope_TGI }
		}

		

		every_subject_or_below = {
			make_independent = yes
		}

		c:ODO = {
		 if = {
			limit = {
				has_variable = warlord_state
				NOR = {
					has_variable = var_warlord_two
					has_variable = var_warlord_three
					has_variable = var_warlord_four 
				}
			}
			}
			save_scope_as = scope_random_warlord_one
			set_variable = var_warlord_one
		}

		c:NEA = {
		if = {
			limit = {
				has_variable = warlord_state
				NOR = {
					has_variable = var_warlord_one
					has_variable = var_warlord_three
					has_variable = var_warlord_four
				}
			}
			}
			save_scope_as = scope_random_warlord_two
			set_variable = var_warlord_two
		}

		c:ATL = {
		if = {
			limit = {
				has_variable = warlord_state
				NOR = {
					has_variable = var_warlord_one
					has_variable = var_warlord_two
					has_variable = var_warlord_four
				}
			}
			}
			save_scope_as = scope_random_warlord_three
			set_variable = var_warlord_three
		}

		c:TGI = {
		if = {
			limit = {
				has_variable = warlord_state
				NOR = {
					has_variable = var_warlord_one
					has_variable = var_warlord_two
					has_variable = var_warlord_three
				}
			}
			}
			save_scope_as = scope_random_warlord_four
			set_variable = var_warlord_four
		}
	}

	option = {
		name = dvg_lotharingia.5.ab
		trigger = {
			exists = scope:scope_random_warlord_one
			is_player = yes
		}
		c:LOT = {
		create_diplomatic_play = {
			name = guarani_independence
		
			target_country = c:TGI
			
			war = yes
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:TGI
				type = conquer_state
				target_state = s:STATE_BRUXELLES_SUR_ODON.region_state:LOT
				target_country = c:LOT
			}
		}
		create_diplomatic_play = {
			name = new_alsace_independence
		
			target_country = c:NEA
			
			war = yes
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:NEA
				type = war_reparations
				target_country = c:LOT
			}
		}
		create_diplomatic_play = {
			name = coup_of_odonia
		
			target_country = c:ODO
			
			war = yes
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:ODO
				type = annex_country
				target_country = c:LOT
			}
		}			
	}
		play_as = scope:scope_random_warlord_one
	}

	option = {
		name = dvg_lotharingia.5.b
		trigger = {
			exists = scope:scope_random_warlord_two
			is_player = yes
		}
		c:LOT = {
		create_diplomatic_play = {
			name = guarani_independence
		
			target_country = c:TGI
			
			war = no
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:TGI
				type = conquer_state
				target_state = s:STATE_BRUXELLES_SUR_ODON.region_state:LOT
				target_country = c:LOT
			}
		}
		create_diplomatic_play = {
			name = new_alsace_independence
		
			target_country = c:NEA
			
			war = no
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:NEA
				type = war_reparations
				target_country = c:LOT
			}
		}
		create_diplomatic_play = {
			name = coup_of_odonia
		
			target_country = c:ODO
			
			war = yes
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:ODO
				type = annex_country
				target_country = c:LOT
			}
		}			
	}
		play_as = scope:scope_random_warlord_two
	}

	option = {
		name = dvg_lotharingia.5.c
		trigger = {
			exists = scope:scope_random_warlord_three
			is_player = yes
		}
		c:LOT = {
		create_diplomatic_play = {
			name = guarani_independence
		
			target_country = c:TGI
			
			war = no
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:TGI
				type = conquer_state
				target_state = s:STATE_BRUXELLES_SUR_ODON.region_state:LOT
				target_country = c:LOT
			}
		}
		create_diplomatic_play = {
			name = new_alsace_independence
		
			target_country = c:NEA
			
			war = no
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:NEA
				type = war_reparations
				target_country = c:LOT
			}
		}
		create_diplomatic_play = {
			name = coup_of_odonia
		
			target_country = c:ODO
			
			war = yes
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:ODO
				type = annex_country
				target_country = c:LOT
			}
		}			
	}
		play_as = scope:scope_random_warlord_three
	}

	option = {
		name = dvg_lotharingia.5.aa
		trigger = {
			exists = scope:scope_random_warlord_four
			is_player = yes
		}
		c:LOT = {
		
		create_diplomatic_play = {
			name = coup_of_odonia
		
			target_country = c:ODO
			
			war = yes
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:ODO
				type = annex_country
				target_country = c:LOT
			}
		}
	   create_diplomatic_play = {
			name = new_alsace_independence
		
			target_country = c:NEA
			
			war = yes
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:NEA
				type = war_reparations
				target_country = c:LOT
			}
		}
	   create_diplomatic_play = {
			name = guarani_independence
		
			target_country = c:TGI
			
			war = no
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:TGI
				type = conquer_state
				target_state = s:STATE_BRUXELLES_SUR_ODON.region_state:LOT
				target_country = c:LOT
			}
		}
	}
		play_as = scope:scope_random_warlord_four
	}

	option = {
		default_option = yes
		
		name = dvg_lotharingia.5.a
		c:LOT = {
		create_diplomatic_play = {
			name = guarani_independence
		
			target_country = c:TGI
			
			war = no
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:TGI
				type = conquer_state
				target_state = s:STATE_BRUXELLES_SUR_ODON.region_state:LOT
				target_country = c:LOT
			}
		}
		create_diplomatic_play = {
			name = new_alsace_independence
		
			target_country = c:NEA
			
			war = no
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:NEA
				type = war_reparations
				target_country = c:LOT
			}
		}
		create_diplomatic_play = {
			name = coup_of_odonia
		
			target_country = c:ODO
			
			war = no
			
			type = dp_annex_war
			
			add_war_goal = {
				holder = c:ODO
				type = annex_country
				target_country = c:LOT
			}
		}			
	}
	}
}

dvg_lotharingia.6 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.6.t
	desc = dvg_lotharingia.6.d
	flavor = dvg_lotharingia.6.f
	
	event_image = {
		video = "gfx/event_pictures/unspecific_military_parade.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	}
	
	
	# Liberte!
	option = {
		name = dvg_lotharingia.6.a
		default_option = yes
		country_prestige_mult = 0.07

		add_modifier = {
			name = china_authority
			months = normal_modifier_time
		}
		add_modifier = {
			name = warlord_legitimacy
			months = normal_modifier_time
		}
		add_modifier = {
			name = order_restored
			months = normal_modifier_time
		}
		add_modifier = {
			name = reclaimed_states
			months = normal_modifier_time
		}
			
		change_infamy = -10
		
		
		add_loyalists = {
			value = 0.50
		}
		add_radicals = {
			value = -0.50
		}
		ruler = { remove_trait = immortal }
		ai_chance = {
			base = 50
		}
	}
	option = {
		name = dvg_lotharingia.6.b
		country_prestige_mult = 0.07

		add_modifier = {
			name = china_authority
			months = normal_modifier_time
		}
		add_modifier = {
			name = warlord_legitimacy
			months = normal_modifier_time
		}
		add_modifier = {
			name = order_restored
			months = normal_modifier_time
		}
		add_modifier = {
			name = reclaimed_states
			months = normal_modifier_time
		}
			
		change_infamy = -10
		
		
		add_loyalists = {
			value = 0.50
		}
		add_radicals = {
			value = -0.50
		}
		activate_law = law_type:law_autocracy
		activate_law = law_type:law_monarchy
		ruler = { remove_trait = immortal }
		ai_chance = {
			base = 50
		}
	}
}

dvg_lotharingia.7 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.7.t
	desc = dvg_lotharingia.7.d
	flavor = dvg_lotharingia.7.f
	
	event_image = {
		video = "gfx/event_pictures/southamerica_election.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	}
	
	
	# Liberte!
	option = {
		name = dvg_lotharingia.7.a
		default_option = yes
		country_prestige_mult = -0.01
		
		ruler = { kill_character = yes }
		
		change_infamy = -15
		
		add_radicals = {
			value = -0.50
		}
		activate_law = law_type:law_census_voting
		activate_law = law_type:law_no_migration_controls
		
		call_election = {
				months = 1
			}
		ai_chance = {
			base = 100
		}
	}
}

dvg_lotharingia.8 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.8.t
	desc = dvg_lotharingia.8.d
	flavor = dvg_lotharingia.8.f
	
	event_image = {
		video = "gfx/event_pictures/southamerica_public_figure_assassination.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	}
	
	
	# Liberte!
	option = {
		name = dvg_lotharingia.8.a
		default_option = yes
		country_prestige_mult = 0.07
		
		add_modifier = {
			name = warlord_legitimacy
			months = normal_modifier_time
		}
		
		add_loyalists = {
			value = 0.50
		}
		activate_law = law_type:law_wealth_voting
		activate_law = law_type:law_no_migration_controls
		change_tag = LOT
		call_election = {
				months = 1
			}
		ai_chance = {
			base = 100
		}
	}
}

dvg_lotharingia.9 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.9.t
	desc = dvg_lotharingia.9.d
	flavor = dvg_lotharingia.9.f
	
	event_image = {
		video = "gfx/event_pictures/southamerica_public_figure_assassination.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	}
	
	
	# Authoritie!
	option = {
		name = dvg_lotharingia.9.a
		default_option = yes
		country_prestige_mult = 0.07
		
		add_modifier = {
			name = china_authority
			months = normal_modifier_time
		}
		add_modifier = {
			name = warlord_legitimacy
			months = normal_modifier_time
		}
		add_modifier = {
			name = order_restored
			months = normal_modifier_time
		}
		add_modifier = {
			name = reclaimed_states
			months = normal_modifier_time
		}
		change_relations = {
				country = c:TWT
				value = 50
			}
		
		add_loyalists = {
			value = 0.50
		}
		set_country_type = recognized
		
		activate_law = law_type:law_no_migration_controls
		
		
		ai_chance = {
			base = 100
		}
	}
}

dvg_lotharingia.10 = {
	type = country_event
	placement = ROOT

	title = dvg_lotharingia.10.t
	desc = dvg_lotharingia.10.d
	flavor = dvg_lotharingia.10.f

	duration = 3

	event_image = {
		video = "gfx/event_pictures/southamerica_aristocrats.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	trigger = {
			owns_entire_state_region = STATE_COTE_DU_CAFE
		}

	immediate = {
		if = {
			limit = {
				owns_entire_state_region = STATE_COTE_DU_CAFE
			}
			random_scope_state = {
			if = {
				limit = {
					state_region = s:STATE_COTE_DU_CAFE
				}
				}
				save_scope_as = atlantia_state
			}
		}
	}
	
	option = {
		name = dvg_lotharingia.10.a
		default_option = yes
		if = {
			limit = {
				country_has_primary_culture = cu:lotharian #DVG
			}
			scope:atlantia_state = {
				state_region = {
					add_homeland = lotharian #DVG
				}
			}
		}
		
		change_variable = {
				name = aigle_var
				add = 20
			}
		scope:atlantia_state = {
			add_modifier = {
			name = dvg_atlantia_support
			days = 1825
			
		}
		}
	}
}


