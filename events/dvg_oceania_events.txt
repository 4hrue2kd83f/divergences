namespace = dvg_oceania

# Nouvelle Zealand
dvg_oceania.1 = {
	type = country_event
	placement = ROOT

	title = dvg_oceania.1.t
	desc = dvg_oceania.1.d
	flavor = dvg_oceania.1.f

	event_image = {
		video = "gfx/event_pictures/southamerica_war_civilians.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/war_civilians"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	}
	
	
	# Yes, give them the go ahead.
	option = {
		name = dvg_oceania.1.a
		default_option = yes
		create_country = {
			tag = NVZ
			origin = this
			state = s:STATE_COOMALONG.region_state:BRG
			state = s:STATE_NOONGAR.region_state:BRG
			state = s:STATE_PITJANTJAJARA.region_state:BRG
			state = s:STATE_OODNATTA.region_state:BRG
			state = s:STATE_YONGJIA.region_state:BRG
			state = s:STATE_YOLNGU.region_state:BRG
		}
		hidden_effect = {
			c:BRG = {
				create_diplomatic_pact = {
					country = c:NVZ
					type = dominion
				}
				change_relations = {
					country = c:NVZ
					value = 100
				}
			}
			set_variable = dvg_nouvelle_zealand
		}
		ai_chance = {
			base = 1
		}

	}
}

# Railroad Australia
dvg_oceania.2 = {
	type = country_event
	placement = ROOT

	title = dvg_oceania.2.t
	desc = dvg_oceania.2.d
	flavor = dvg_oceania.2.f

	event_image = {
		video = "gfx/event_pictures/southamerica_war_civilians.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/war_civilians"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		has_game_rule = australia_railroaded
		not = {
			has_variable = dvg_australia_locked_variable
		}
	}
	
	immediate = {
		c:YMT = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_COOMALONG
				}
				save_scope_as = dvg_coomalong
			}
		}
		c:NNG = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_NOONGAR
				}
				save_scope_as = dvg_noongar
			}
		}
		c:PJT = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_PITJANTJAJARA
				}
				save_scope_as = dvg_pitjantjajara
			}
		}
		c:NUN = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_OODNATTA
				}
				save_scope_as = dvg_oodnatta
			}
		}
		c:WIR = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_TAITUNG
				}
				save_scope_as = dvg_taitung
			}
		}
		c:YLN = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_YOLNGU
				}
				save_scope_as = dvg_yolngu
			}
		}
		c:YAL = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_WENCHENG
				}
				save_scope_as = dvg_wencheng
			}
		}
		c:KOO = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_YONGLING
				}
				save_scope_as = dvg_yongling
			}
		}
		c:KAU = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_YONGJIA
				}
				save_scope_as = dvg_yongjia
			}
		}
	}
	
	# Gamerule is set.
	option = {
		name = dvg_oceania.1.a
		default_option = yes
		hidden_effect = {
			scope:dvg_coomalong = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			scope:dvg_noongar = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			scope:dvg_pitjantjajara = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			scope:dvg_oodnatta = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			scope:dvg_taitung = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			scope:dvg_yolngu = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			scope:dvg_wencheng = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			scope:dvg_yongling = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			scope:dvg_yongjia = {
				add_modifier = {
					name = dvg_australia_locked
				}
			}
			set_variable = dvg_australia_locked_variable
		}
		ai_chance = {
			base = 1
		}

	}
}