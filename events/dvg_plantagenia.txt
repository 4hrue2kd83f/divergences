namespace = dvg_plantagenia

# Startup event
dvg_plantagenia.1 = {
	type = country_event
	placement = ROOT
	
	title = dvg_plantagenia.1.t
	desc = dvg_plantagenia.1.d
	flavor = dvg_plantagenia.1.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3

	#dlc = dlc008
	
	trigger = {
		 # triggered by je_louis_brazil
		 NOT = { has_variable = louis_startup_var }
	}

	immediate = {
		set_variable = louis_startup_var
		random_scope_character = {
			limit = {
				has_variable = is_louis
			}
			save_scope_as = louis_scope
		}
		ig:ig_landowners = { # old regency
			save_scope_as = landowners_scope
			
		}
		ig:ig_armed_forces = { # old regency
			save_scope_as = armed_forces_scope
		}
		ig:ig_intelligentsia = { # old regency
			leader = {
			save_scope_as = feijo_regent
			}
		}
		
		
	}

	option = {
		name = dvg_plantagenia.1.a
		default_option = yes
		custom_tooltip = {
			text = louis_regency_party_tt
		}
		add_modifier = {
			name = brz_regency
			months = long_modifier_time
		}
	}
}

# Landowners become republicans
dvg_plantagenia.2 = {
	type = country_event
	placement = ROOT
	
	title = dvg_plantagenia.2.t
	desc = dvg_plantagenia.2.d
	flavor = {
		first_valid = {
			triggered_desc = {
				desc = dvg_plantagenia.2.f
				trigger = {
					has_law = law_type:law_slavery_banned
				}
			}
			triggered_desc = {
				desc = dvg_plantagenia.2.f2
				trigger = {
					always = yes
				}
			}
		}
	}
	
	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"
	
	duration = 3

	#dlc = dlc008
	
	trigger = {
		 # triggered by je_louis_brazil
		 root.var:pedropoints <= 2
		 ig:ig_landowners = {
		 	ig_approval <= unhappy
		 }
		 NOT = { has_variable = louis_landowner_republicans }
	}

	immediate = {
		set_variable = louis_landowner_republicans
		ruler = {
			save_scope_as = louis_scope
		}
		ig:ig_landowners = {
			save_scope_as = landowners_scope
			leader = {
				save_scope_as = landowner_leader
			}
		}
		i:ideology_republican_paternalistic = {
			save_scope_as = elitist_scope
		}
	}

	option = {
		name = dvg_plantagenia.2.a
		default_option = yes
		ig:ig_landowners = {
			add_ideology = ideology_republican_paternalistic
			remove_ideology = ideology_paternalistic
		}
	}
}

# Louis comes of age
dvg_plantagenia.3 = {
	type = country_event
	placement = ROOT
	
	title = dvg_plantagenia.3.t
	desc = dvg_plantagenia.3.d
	flavor = dvg_plantagenia.3.f
	
	gui_window = event_window_1char_tabloid

	left_icon = root.ruler

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3

	#dlc = dlc008
	
	trigger = {
		 # triggered by je_louis_brazil
		 NOT = { has_variable = louis_of_age_var }
		 ruler = {
		 	age >= 14
		 }
	}

	immediate = {
		set_variable = louis_of_age_var
		ruler = {
			save_scope_as = louis_scope
		}
		random_interest_group = {
			limit = {
				is_in_government = yes
			}
			save_scope_as = coronation_ig
		}
	}

	option = {
		name = dvg_plantagenia.3.a
		default_option = yes
		remove_modifier = brz_regency
		scope:louis_scope = {
			remove_trait = trait_child
			add_trait = charismatic
		}
		add_pedropoint_effect = yes
	}
}
#King will die soon
dvg_plantagenia.4 = {
	type = country_event
	placement = ROOT
	
	title = dvg_plantagenia.4.t
	desc = dvg_plantagenia.4.d
	flavor = dvg_plantagenia.4.f
	
	gui_window = event_window_1char_tabloid

	left_icon = root.ruler

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3

	#dlc = dlc008
	
	trigger = {
		
	}

	immediate = {
		
	}

	option = {
		name = dvg_plantagenia.4.a
		default_option = yes 
		
	}
}
#Marginalized Landowners
dvg_plantagenia.5 = {
	type = country_event
	placement = ROOT
	
	title = dvg_plantagenia.5.t
	desc = dvg_plantagenia.5.d
	flavor = dvg_plantagenia.5.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3

	#dlc = dlc008
	
	trigger = {
		
	}

	immediate = {
		
	}

	option = {
		name = dvg_plantagenia.5.a
		default_option = yes 
		
	}
}
#Powerfu IG
dvg_plantagenia.6 = {
	type = country_event
	placement = ROOT
	
	title = dvg_plantagenia.6.t
	desc = dvg_plantagenia.6.d
	flavor = dvg_plantagenia.6.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3

	#dlc = dlc008
	
	trigger = {
		
	}

	immediate = {
		
	}

	option = {
		name = dvg_plantagenia.6.a
		default_option = yes 
		
	}
}
#Monarchy Survives
dvg_plantagenia.7 = {
	type = country_event
	placement = ROOT
	
	title = dvg_plantagenia.7.t
	desc = dvg_plantagenia.7.d
	flavor = dvg_plantagenia.7.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3

	#dlc = dlc008
	
	trigger = {
		
	}

	immediate = {
		
	}

	option = {
		name = dvg_plantagenia.7.a
		default_option = yes 
		
	}
}
#Coup Time
dvg_plantagenia.8 = {
	type = country_event
	placement = ROOT
	
	title = dvg_plantagenia.8.t
	desc = dvg_plantagenia.8.d
	flavor = dvg_plantagenia.8.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3

	#dlc = dlc008
	
	trigger = {
		
	}

	immediate = {
		
	}

	option = {
		name = dvg_plantagenia.8.a
		default_option = yes 


		
	}
}

