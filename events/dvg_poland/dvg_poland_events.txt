namespace = dvg_poland

# start event
dvg_poland.1 = {
	type = country_event
	placement = root
	title = dvg_poland.1.t
	desc = dvg_poland.1.d
	flavor = dvg_poland.1.f

	duration = 3

	event_image = {
		video = "unspecific_factory_closed"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/factory_closed"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	trigger = {
	}

	immediate = {
	}

	option = {
		name = dvg_poland.1.a
		add_journal_entry = {
			type = je_golden_liberty
		}
        add_journal_entry = {
			type = je_pol_king_maximilian
		}
		show_as_tooltip = {
            add_modifier = {
                name = modifier_slave_to_liberty
                months = -1
            }
            custom_tooltip = {
                text = diplomatic_plays_blocked_until_golden_liberty
                add_modifier = {
                    name = diplomatic_plays_blocked
                    months = -1
                }	
            }	
		}
	}
}

dvg_poland.2 = {
    type = country_event
    placement = root
    title = dvg_poland.2.t
    desc = dvg_poland.2.d
    flavor = dvg_poland.2.f

    duration = 3  

    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/springtime_of_nation"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"

    option = {
        name = dvg_poland.2.a
        c:POL = {
		    remove_diplomatic_pact = {
		    	country = c:LIT
		    	type = personal_union
		    }
		    create_diplomatic_pact = {
		    	country = c:LIT
		    	type = puppet
		    }
		}
        add_modifier = {
            name = modifier_magnate_oligarchy
            months = -1
        }
        remove_modifier = modifier_slave_to_liberty
	}
}

dvg_poland.3 = {
    type = country_event
    placement = root
    title = dvg_poland.3.t
    desc = dvg_poland.3.d
    flavor = dvg_poland.3.f

    duration = 3  

    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"

    option = {
        name = dvg_poland.3.a
        c:POL = {
		    remove_diplomatic_pact = {
		    	country = c:LIT
		    	type = personal_union
		    }
		    create_diplomatic_pact = {
		    	country = c:LIT
		    	type = puppet
		    }
		}
        ROOT = {
            add_modifier = {
                name = modifier_noble_democracy
                months = -1
            }
            remove_modifier = modifier_slave_to_liberty
        }
	}
}

dvg_poland.4 = {
    type = country_event
    placement = root
    title = dvg_poland.4.t
    desc = dvg_poland.4.d
    flavor = dvg_poland.4.f

    duration = 3  

    event_image = {
		video = "gfx/event_pictures/europenorthamerica_russian_serfs.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/springtime_of_nation"

    icon = "gfx/interface/icons/event_icons/event_fire.dds"

    option = {
        name = dvg_poland.4.a
        if = { 
            limit = {
                ROOT = {
                    has_law = law_type:law_serfdom
                }
            }
            add_modifier = {
                name = modifier_eastern_slavery
                months = -1
            }
        }
        else = {
            ROOT = {
                add_modifier = {
                    name = modifier_eastern_oppression
                    months = -1
                }
            }
        }
    }
}

dvg_poland.5 = {
    type = country_event
    placement = root
    title = dvg_poland.5.t
    desc = dvg_poland.5.d
    flavor = dvg_poland.5.f

    event_image = {
		video = "gfx/event_pictures/europenorthamerica_russian_serfs.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/springtime_of_nation"

    icon = "gfx/interface/icons/event_icons/event_fire.dds"

    trigger = {
        c:PLC = root
        c:PLC = {
            is_diplomatic_play_initiator = yes
        }
        any_country = { 	
            is_secessionist = yes
            is_diplomatic_play_target = yes
            OR = {
                country_has_primary_culture = cu:cossack
                country_has_primary_culture = cu:byelorussian 
            }
        }
    }
    
    duration = 7

    immediate = {
        if = {
            limit = {
                exists = c:PLC
                c:PLC = root
                c:PLC = {
                    is_diplomatic_play_initiator = yes
                }
                any_country = {
                    is_secessionist = yes
                    is_diplomatic_play_target = yes
                }
            }
            random_country = {
                limit = {	
                    is_secessionist = yes
                    is_diplomatic_play_target = yes
                }
                change_tag = RTH
                if = {
					limit = {
						NOT = { has_law = law_type:law_tenant_farmers }
					}
					activate_law = law_type:law_tenant_farmers
				}
                activate_law = law_type:law_presidential_republic
		        activate_law = law_type:law_freedom_of_conscience
		        activate_law = law_type:law_right_of_assembly
		        activate_law = law_type:law_racial_segregation
		        activate_law = law_type:law_professional_army
		        activate_law = law_type:law_interventionism
		        activate_law = law_type:law_per_capita_based_taxation
		        activate_law = law_type:law_appointed_bureaucrats
		        activate_law = law_type:law_oligarchy

		        ig:ig_devout = {
			        set_interest_group_name = ig_orthodox_church
			        remove_ideology = ideology_patriarchal
			        add_ideology = ideology_orthodox_patriarch
		        }
            }
        }
    }

    option = {
        name = dvg_poland.5.a
    }
}

dvg_poland.6 = {
    type = country_event
    placement = root
    title = dvg_poland.6.t
    desc = dvg_poland.6.d
    flavor = dvg_poland.6.f

    event_image = {
		video = "gfx/event_pictures/europenorthamerica_russian_serfs.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/springtime_of_nation"

    icon = "gfx/interface/icons/event_icons/event_fire.dds"
    
    duration = 3

    option = {
        name = dvg_poland.6.a
        if = {
            limit = {
                has_modifier = modifier_eastern_slavery
            }
            remove_modifier = modifier_eastern_slavery
        }
        else = {
            remove_modifier = modifier_eastern_oppression
        }
    }
}

dvg_poland.10 = {
    type = country_event
    placement = root
    title = dvg_poland.10.t
    desc = dvg_poland.10.d
    flavor = dvg_poland.10.f

    duration = 3  

    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"

    option = {
        name = dvg_poland.10.a
        c:POL = {
            if = {
                limit = {
                    exists = c:SMO
                }
                remove_diplomatic_pact = {
                    country = c:SMO
                    type = puppet
                }
                create_truce = { country = c:SMO months = 24 }
            }
            if = {
                limit = {
                    exists = c:KHK
                }
                remove_diplomatic_pact = {
                    country = c:KHK
                    type = puppet
                }
                c:KHK = {
                    trigger_event = { id = dvg_cossack_ambition.1 }
                }
                create_truce = { country = c:KHK months = 24 }
            }
            if = {
                limit = {
                    exists = c:ZAZ
                }
                remove_diplomatic_pact = {
                    country = c:ZAZ
                    type = puppet
                }
                create_truce = { country = c:ZAZ months = 24 }
            }
			
            #if = {
            #    limit = {
            #        exists = c:KIE
            #    }
            #    remove_diplomatic_pact = {
            #        country = c:KIE
            #        type = puppet
            #    }
            #    s:STATE_KIEV = {
            #        add_claim = c:KIE
            #    }
            #    c:KIE = {
            #        change_tag = UKR
            #    }
            #    create_truce = { country = c:UKR months = 24 }
            #}
		}
        trigger_event = { id = dvg_poland.11 days = 30 }
        set_global_variable = move_CSK
	}
}
dvg_poland.11 = {  #chosing between candidates
    type = country_event
    placement = root
    title = dvg_poland.11.t
    desc = dvg_poland.11.d
    flavor = dvg_poland.11.f

    duration = 3  

    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"

    option = {
        name = dvg_poland.11.a
		set_variable = Habsburg_authorized	
		ai_chance = {
			base = 8
		}
		default_option = yes
		trigger_event = { id = dvg_poland.12 days = 30}
	}
	option = {
        name = dvg_poland.11.b
		set_variable = Habsburg_refused
		 c:POL = {
            if = {
                limit = {
                    exists = c:BOH
                }
                change_relations = { 
				        country = c:BOH
				        value = -100
			    }
            }
			if = {
                limit = {
                    exists = c:SCA
                }
                change_relations = { 
				        country = c:SCA
				        value = -100
			    }
            }
		} 
		trigger_event = { id = dvg_poland.13 days = 30}
		ai_chance = {
			base = 2
		}
	}
}

dvg_poland.12 = {  #Stanislaw von Habsburg
    type = country_event
    placement = root
    title = dvg_poland.12.t
    desc = dvg_poland.12.d
    flavor = dvg_poland.12.f
	
    duration = 3  
    
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"

    option = {
        name = dvg_poland.12.a
		trigger_event = { id = dvg_austria.5 days = 30}
		trigger_event = { id = dvg_poland.14 days = 800}
		create_character = {
			historical = yes
			first_name = Stanislaw
			last_name = Jagiello
			heir = yes
			noble = yes
			birth_date = 1795.6.10
			interest_group = ig_petty_bourgeoisie
			ideology = ideology_royalist
			traits = {
				reserved
			}
			save_scope_as = Stanislaw_Habsburg
		}
		scope:Stanislaw_Habsburg = {
			set_character_as_ruler = yes
		}
	}
}

dvg_poland.13 = {  #Stanislaw not elected
    type = country_event
    placement = root
    title = dvg_poland.13.t
    desc = dvg_poland.13.d
    flavor = dvg_poland.13.f
	
    duration = 3  
    
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"

    option = {  #SCA CANDIDATE
        name = dvg_poland.13.a
		create_character = {
			historical = yes
			first_name = John III
			last_name = Wettin
			heir = yes
			noble = yes
			birth_date = 1795.6.10
			interest_group = ig_petty_bourgeoisie
			ideology = ideology_royalist
			traits = {
			}
			save_scope_as = Stanislaw_Habsburg
		}
		scope:Stanislaw_Habsburg = {
			set_character_as_ruler = yes
		}
		c:POL = {
            if = {
                limit = {
                    exists = c:BOH
                }
                change_relations = { 
				        country = c:BOH
				        value = -50
			    }
            }
			if = {
                limit = {
                    exists = c:SCA
                }
                change_relations = { 
				        country = c:SCA
				        value = 100
			    }
            }
		} 
		ai_chance = {
			base = 3
		}
	}
	    option = { #BOH CANDIDATE
        name = dvg_poland.13.b
		create_character = {
			historical = yes
			first_name = Francis I
			last_name = Wisniowiecki
			heir = yes
			noble = yes
			birth_date = 1795.6.10
			interest_group = ig_petty_bourgeoisie
			ideology = ideology_royalist
			traits = {
			}
			save_scope_as = Stanislaw_Habsburg
		}
		scope:Stanislaw_Habsburg = {
			set_character_as_ruler = yes
		}
		c:POL = {
            if = {
                limit = {
                    exists = c:BOH
                }
                change_relations = { 
				        country = c:BOH
				        value = 100
			    }
            }
			if = {
                limit = {
                    exists = c:SCA
                }
                change_relations = { 
				        country = c:SCA
				        value = -50
			    }
            }
		} 
		ai_chance = {
			base = 4
		}
	}
	    option = { #NEUTRAL CANDIDATE
        name = dvg_poland.13.c
		create_character = {
			historical = yes
			first_name = Sigismund
			last_name = Wittelsbach
			heir = yes
			noble = yes
			birth_date = 1795.6.10
			interest_group = ig_catholic_church
			ideology = ideology_royalist
			traits = {
			}
			save_scope_as = Stanislaw_Habsburg
		}
		scope:Stanislaw_Habsburg = {
			set_character_as_ruler = yes
		}
		c:POL = {
            if = {
                limit = {
                    exists = c:BOH
                }
                change_relations = { 
				        country = c:BOH
				        value = -50
			    }
            }
			if = {
                limit = {
                    exists = c:SCA
                }
                change_relations = { 
				        country = c:SCA
				        value = -50
			    }
            }
			if = {
                limit = {
                    exists = c:BAV
                }
                change_relations = { 
				        country = c:BAV
				        value = 100
			    }
            }
		} 
		ai_chance = {
			base = 3
		}

	}
}

dvg_poland.14 = {  #First Sejm
    type = country_event
    placement = root
    title = dvg_poland.14.t
    desc = dvg_poland.14.d
    flavor = dvg_poland.14.f
	
    duration = 3  
	
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	option = { #TODO cool debuffs
		name = dvg_poland.14.a
		set_variable = first_sejm_HAB
		trigger_event = { id = dvg_poland.15 days = 30}
		 ROOT = {
            add_modifier = {
                name = dvg_modifier_first_hab_sejm
                months = 30
            }
        }
		add_radicals = {
			value = 0.05
			strata = middle
		}
		add_radicals = {
			value = 0.05
			strata = poor
		}
	}
}

dvg_poland.15 = {  #Crowds calmed

    type = country_event
    placement = root
    title = dvg_poland.15.t
    desc = dvg_poland.15.d
    flavor = dvg_poland.15.f
	
    duration = 3  
	
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	option = {
		name = dvg_poland.15.a
		hidden = { trigger_event = { id = dvg_poland.16 years = 5}}
		add_radicals = {
			value = 0.03
			strata = rich
		}
		add_loyalists = {
			value = 0.03
			strata = poor
		}
		add_loyalists = {
			value = 0.03
			strata = middle
		}		
	}
}

dvg_poland.16 = {  #start New Commonwealth journal

    type = country_event
    placement = root
    title = dvg_poland.16.t
    desc = dvg_poland.16.d
    flavor = dvg_poland.16.f
	
    duration = 3  
	
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	option = {
		name = dvg_poland.16.a
		add_journal_entry = {
			type = sejm_of_1845
		}
	}	
}
dvg_poland.17 = {  #start New Commonwealth stanislaw succeed

    type = country_event
    placement = root
    title = dvg_poland.17.t
    desc = dvg_poland.17.d
    flavor = dvg_poland.17.f
	
    duration = 3  
	
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	option = {
		name = dvg_poland.17.a
		hidden = { 
			if = {
				limit = { c:PRU = {is_ai = yes}}
				trigger_event = { id = dvg_poland.19 days = 30}
			}
			else = {
				trigger_event = { id = dvg_poland.20 days = 30}
			}
		}
		#TODO ADD SOMETHING
	}	
}
dvg_poland.18 = {  #start New Commonwealth Stanislaw chill

    type = country_event
    placement = root
    title = dvg_poland.18.t
    desc = dvg_poland.18.d
    flavor = dvg_poland.18.f
	
    duration = 3  
	
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	option = {
		name = dvg_poland.18.a
		#TODO ADD SOMETHING
	}	
}

dvg_poland.19 = {  #start Prussia gone

    type = country_event
    placement = root
    title = dvg_poland.19.t
    desc = dvg_poland.19.d
    flavor = dvg_poland.19.f
	
    duration = 3  
	
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	option = {
		name = dvg_poland.19.a
		#TODO ADD SOMETHING
		if = {
			limit = { c:PRU = {is_ai = yes}}
			c:SCA = { annex = c:PRU }
		}
		else = {
			c:POL = {
                remove_diplomatic_pact = {
					country = c:PRU
                    type = puppet
                }
				create_truce = { country = c:PRU months = 24 }
            }
		}
	}	
}

dvg_poland.20 = {  #start Prussia declares independence

    type = country_event
    placement = root
    title = dvg_poland.20.t
    desc = dvg_poland.20.d
    flavor = dvg_poland.20.f
	
    duration = 3  
	
    event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific_ruler_speaking_to_people"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	option = {
		name = dvg_poland.20.a
		#TODO ADD SOMETHING
		c:POL = {
                remove_diplomatic_pact = {
					country = c:PRU
					type = puppet
				}
			create_truce = { country = c:PRU months = 24 }
		}
	}	
}



