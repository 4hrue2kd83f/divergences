namespace = dvg_green_prince_events


dvg_green_prince_events.1 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_capitalists_meeting.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/capitalists_meeting"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_green_prince_events.1.t
	desc = dvg_green_prince_events.1.d
	flavor = dvg_green_prince_events.1.f

	duration = 3

	trigger = {
		exists = c:NZH
		this = c:NZH
		year = 1840
	}

	option = {
		name = dvg_green_prince_events.1.a
		default_option = yes

		set_variable = {
			name = gay_green_prince
		}

		every_country = {
			limit = {
				country_has_primary_culture = cu:russian
				NOT = {
					c:NZH = this
				}
			}

			trigger_event = {
				id = dvg_green_prince_events.2
				popup = yes
			}
		}
	}
}

dvg_green_prince_events.2 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_capitalists_meeting.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/capitalists_meeting"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_green_prince_events.2.t
	desc = dvg_green_prince_events.2.d
	flavor = dvg_green_prince_events.2.f

	duration = 3

	option = {
		name = dvg_green_prince_events.2.a
		default_option = yes
	}
}

dvg_green_prince_events.3 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_art_gallery.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/art_gallery"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_green_prince_events.3.t
	desc = dvg_green_prince_events.3.d
	flavor = dvg_green_prince_events.3.f

	duration = 3

	trigger = {
		exists = c:NZH
		this = c:NZH
		year >= 1842
		has_variable = gay_green_prince
	}

	immediate = {
		set_variable = green_prince_heir
		create_character = {
			first_name = Michael
			last_name = Belsky
			ideology = ideology_royalist
			age = 0
			heir = yes
		}
	}

	option = {
		name = dvg_green_prince_events.3.a
		default_option = yes

		c:TVE ={
			trigger_event = {
				id = dvg_green_prince_events.12
				days = 3
				popup = yes
			}
		}
		c:MSO ={
			trigger_event = {
				id = dvg_green_prince_events.13
				days = 6
				popup = yes
			}
		}
	}
}

dvg_green_prince_events.12 = {
	type = country_event
	placement = ROOT

	gui_window = event_window_1char_tabloid

	left_icon = scope:nzh_heir

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_green_prince_events.12.t
	desc = dvg_green_prince_events.12.d
	flavor = dvg_green_prince_events.12.f

	duration = 3

	immediate = {
		c:NZH = {
			heir = {
				save_scope_as = nzh_heir
			}
		}
	}

	option = {
		name = dvg_green_prince_events.12.a
		default_option = yes

		c:NZH = {
			set_variable = tve_denied
		}
	}
}

dvg_green_prince_events.13 = {
	type = country_event
	placement = ROOT

	gui_window = event_window_1char_tabloid

	left_icon = scope:nzh_heir

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_green_prince_events.13.t
	desc = dvg_green_prince_events.13.d
	flavor = dvg_green_prince_events.13.f

	duration = 3

	immediate = {
		c:NZH = {
			heir = {
				save_scope_as = nzh_heir
			}
		}
	}

	option = {
		name = dvg_green_prince_events.13.a
		default_option = yes

		c:NZH = {
			set_variable = mso_agree
		}
	}
}

dvg_green_prince_events.14 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_springtime_of_nations.bk2"
	}

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/political_extremism"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_green_prince_events.14.t
	desc = dvg_green_prince_events.14.d
	flavor = dvg_green_prince_events.14.f

	duration = 3

	trigger = {
		exists = c:NZH
		this = c:NZH
		has_variable = tve_denied
		has_variable = mso_agree
		NOT = {
			has_variable = nzh_crisis_two
		}
	}

	immediate = {
	    set_variable = {
			name = nzh_crisis_two
		}
		ruler = {
			kill_character = yes
		}
	}

	option = {
		name = dvg_green_prince_events.14.a
		default_option = yes

		trigger_event = {
			id = dvg_green_prince_events.15
			days = 31
			popup = yes
		}
	}
}

dvg_green_prince_events.15 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/political_extremism"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_green_prince_events.15.t
	desc = dvg_green_prince_events.15.d
	flavor = dvg_green_prince_events.15.f

	duration = 3

	option = {
		name = dvg_green_prince_events.15.a
		default_option = yes

		c:TVE = {
			trigger_event = {
				id = dvg_green_prince_events.18
				days = 7
				popup = yes
			}
		}

		c:MSO = {
			trigger_event = {
				id = dvg_green_prince_events.16
				days = 1
				popup = yes
			}
		}
	}
}

dvg_green_prince_events.16 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_before_the_battle.bk2"
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = dvg_green_prince_events.16.t
	desc = dvg_green_prince_events.16.d
	flavor = dvg_green_prince_events.16.f

	duration = 3

	option = {
		name = dvg_green_prince_events.16.a
		default_option = yes

		annex = c:NZH
	}
}

dvg_green_prince_events.18 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_before_the_battle.bk2"
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = dvg_green_prince_events.18.t
	desc = dvg_green_prince_events.18.d

	duration = 3

	option = {
		name = dvg_green_prince_events.18.a
		default_option = yes

		create_diplomatic_play = {
			name = green_prince_war
		
			target_state = s:STATE_MOSCOW.region_state:MSO
			
			war = yes
			
			type = dp_annex_war

			add_war_goal = {
				holder = c:MSO
				type = annex_country
				target_country = c:TVE
			}
		}	
	}
}
