namespace = dvg_green_prince_events

dvg_green_prince_events.1 = {
	type = country_event
	placement = ROOT

	gui_window = event_window_1char_tabloid

	left_icon = root.heir

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_green_prince_events.1.t
	desc = dvg_green_prince_events.1.d
	flavor = dvg_green_prince_events.1.f

	duration = 3

	trigger = {
		exists = c:NZH
		c:NZH = ROOT
	}

	option = {
		name = dvg_green_prince_events.1.a
		default_option = yes

		c:TVE ={
			trigger_event = {
				id = dvg_green_prince_events.2
				days = 3
				popup = yes
			}
		}
		c:MSO ={
			trigger_event = {
				id = dvg_green_prince_events.3
				days = 6
				popup = yes
			}
		}
	}
}

dvg_green_prince_events.2 = {
	type = country_event
	placement = ROOT

	gui_window = event_window_1char_tabloid

	left_icon = scope:nzh_heir

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_green_prince_events.2.t
	desc = dvg_green_prince_events.2.d
	flavor = dvg_green_prince_events.2.f

	duration = 3

	immediate = {
		c:NZH = {
			heir = {
				save_scope_as = nzh_heir
			}
		}
	}

	option = {
		name = dvg_green_prince_events.2.a
		default_option = yes

		c:NZH = {
			set_variable = tve_denied
		}
	}
}

dvg_green_prince_events.3 = {
	type = country_event
	placement = ROOT

	gui_window = event_window_1char_tabloid

	left_icon = scope:nzh_heir

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_green_prince_events.3.t
	desc = dvg_green_prince_events.3.d
	flavor = dvg_green_prince_events.3.f

	duration = 3

	immediate = {
		c:NZH = {
			heir = {
				save_scope_as = nzh_heir
			}
		}
	}

	option = {
		name = dvg_green_prince_events.3.a
		default_option = yes

		c:NZH = {
			set_variable = mso_agree
		}
	}
}

dvg_green_prince_events.4 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_springtime_of_nations.bk2"
	}

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/political_extremism"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_green_prince_events.4.t
	desc = dvg_green_prince_events.4.d
	flavor = dvg_green_prince_events.4.f

	duration = 3

	trigger = {
		exists = c:NZH
		this = c:NZH
		has_variable = tve_denied
		has_variable = mso_agree
		NOT = {
			has_variable = nzh_crisis_two
		}
	}

	immediate = {
	    set_variable = {
			name = nzh_crisis_two
		}
		ruler = {
			kill_character = yes
		}
	}

	option = {
		name = dvg_green_prince_events.4.a
		default_option = yes

		trigger_event = {
			id = dvg_green_prince_events.5
			days = 31
			popup = yes
		}
	}
}

dvg_green_prince_events.5 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/political_extremism"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_green_prince_events.5.t
	desc = dvg_green_prince_events.5.d
	flavor = dvg_green_prince_events.5.f

	duration = 3

	option = {
		name = dvg_green_prince_events.5.a
		default_option = yes

		c:TVE = {
			trigger_event = {
				id = dvg_green_prince_events.8
				days = 7
				popup = yes
			}
		}

		c:MSO = {
			trigger_event = {
				id = dvg_green_prince_events.6
				days = 1
				popup = yes
			}
		}
	}
}

dvg_green_prince_events.6 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_before_the_battle.bk2"
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = dvg_green_prince_events.6.t
	desc = dvg_green_prince_events.6.d
	flavor = dvg_green_prince_events.6.f

	duration = 3

	option = {
		name = dvg_green_prince_events.6.a
		default_option = yes

		annex = c:NZH
	}
}

dvg_green_prince_events.7 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_green_prince_events.7.t
	desc = dvg_green_prince_events.7.d
	flavor = dvg_green_prince_events.7.f

	duration = 3

	trigger = {
		exists = c:NZH
		this = c:NZH
		year >= 1837
	}

	immediate = {
		create_character = {
			first_name = Michael
			last_name = Belsky
			ideology = ideology_royalist
			age = 0
			heir = yes
		}
	}

	option = {
		name = dvg_green_prince_events.7.a
		default_option = yes
	}
}

dvg_green_prince_events.8 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_before_the_battle.bk2"
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = dvg_green_prince_events.8.t
	desc = dvg_green_prince_events.8.d

	duration = 3

	option = {
		name = dvg_green_prince_events.8.a
		default_option = yes

		create_diplomatic_play = {
			name = green_prince_war
		
			target_state = s:STATE_MOSCOW.region_state:MSO
			
			war = yes
			
			type = dp_annex_war

			add_war_goal = {
				holder = c:MSO
				type = annex_country
				target_country = c:TVE
			}
		}	
	}
}
